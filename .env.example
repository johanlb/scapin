# =============================================================================
# Scapin Configuration - Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values
# Variables use nested format: SECTION__FIELD (double underscore)
# =============================================================================

# -----------------------------------------------------------------------------
# Environment
# -----------------------------------------------------------------------------
ENVIRONMENT=development  # development | production

# -----------------------------------------------------------------------------
# Email Configuration (IMAP)
# -----------------------------------------------------------------------------
# Single account (legacy format - auto-migrated to accounts[0])
EMAIL__IMAP_HOST=imap.gmail.com
EMAIL__IMAP_PORT=993
EMAIL__IMAP_USERNAME=your.email@gmail.com
EMAIL__IMAP_PASSWORD=your_app_specific_password

# Multi-account format (preferred):
# EMAIL__ACCOUNTS__0__ACCOUNT_ID=personal
# EMAIL__ACCOUNTS__0__ACCOUNT_NAME=Personal (Gmail)
# EMAIL__ACCOUNTS__0__IMAP_HOST=imap.gmail.com
# EMAIL__ACCOUNTS__0__IMAP_USERNAME=your.email@gmail.com
# EMAIL__ACCOUNTS__0__IMAP_PASSWORD=your_app_specific_password
# EMAIL__ACCOUNTS__1__ACCOUNT_ID=work
# ... etc

# Email folders (optional, defaults shown)
# EMAIL__INBOX_FOLDER=INBOX
# EMAIL__ARCHIVE_FOLDER=Archive
# EMAIL__REFERENCE_FOLDER=Référence
# EMAIL__DELETE_FOLDER=_Scapin/À supprimer

# -----------------------------------------------------------------------------
# AI Configuration
# -----------------------------------------------------------------------------
AI__ANTHROPIC_API_KEY=sk-ant-api03-your-key-here
# AI__OPENAI_API_KEY=sk-your-openai-key  # Optional
# AI__MISTRAL_API_KEY=your-mistral-key    # Optional

AI__CONFIDENCE_THRESHOLD=90  # 0-100, threshold for auto-processing
AI__RATE_LIMIT_PER_MINUTE=40

# -----------------------------------------------------------------------------
# Microsoft Integration (Teams + Calendar)
# -----------------------------------------------------------------------------
# Requires Azure AD app registration with appropriate permissions

# Teams
TEAMS__ENABLED=false
# TEAMS__ACCOUNT__CLIENT_ID=your-azure-app-client-id
# TEAMS__ACCOUNT__TENANT_ID=your-azure-tenant-id
# TEAMS__POLL_INTERVAL_SECONDS=60

# Calendar (Microsoft)
CALENDAR__ENABLED=false
# CALENDAR__ACCOUNT__CLIENT_ID=your-azure-app-client-id
# CALENDAR__ACCOUNT__TENANT_ID=your-azure-tenant-id
# CALENDAR__POLL_INTERVAL_SECONDS=300
# CALENDAR__DAYS_AHEAD=7

# -----------------------------------------------------------------------------
# iCloud Calendar Integration (CalDAV)
# -----------------------------------------------------------------------------
# Uses CalDAV protocol to access iCloud Calendar
# Requires an app-specific password from appleid.apple.com

ICLOUD_CALENDAR__ENABLED=false
# ICLOUD_CALENDAR__USERNAME=your.appleid@icloud.com
# ICLOUD_CALENDAR__APP_SPECIFIC_PASSWORD=xxxx-xxxx-xxxx-xxxx

# Optional settings
# ICLOUD_CALENDAR__PAST_DAYS=365      # Days in the past to search
# ICLOUD_CALENDAR__FUTURE_DAYS=90     # Days in the future to search
# ICLOUD_CALENDAR__MAX_RESULTS=20     # Max results per search

# To generate an app-specific password:
# 1. Go to appleid.apple.com
# 2. Sign in with your Apple ID
# 3. Go to "Sign-In and Security" > "App-Specific Passwords"
# 4. Click "Generate an app-specific password"
# 5. Name it "Scapin" and copy the generated password

# -----------------------------------------------------------------------------
# Briefing System
# -----------------------------------------------------------------------------
BRIEFING__ENABLED=true
# BRIEFING__MORNING_HOURS_BEHIND=12
# BRIEFING__MORNING_HOURS_AHEAD=24
# BRIEFING__SHOW_CONFIDENCE=true

# -----------------------------------------------------------------------------
# Storage
# -----------------------------------------------------------------------------
# STORAGE__DATABASE_PATH=data/pkm.db
# STORAGE__NOTES_PATH=~/Documents/Scapin/Notes
# STORAGE__BACKUP_ENABLED=true

# -----------------------------------------------------------------------------
# Monitoring
# -----------------------------------------------------------------------------
MONITORING__LOG_LEVEL=INFO  # DEBUG | INFO | WARNING | ERROR
# MONITORING__LOG_FORMAT=json  # json | text

# -----------------------------------------------------------------------------
# Processing (Cognitive Pipeline)
# -----------------------------------------------------------------------------
PROCESSING__ENABLE_COGNITIVE_REASONING=false  # Enable multi-pass reasoning
# PROCESSING__COGNITIVE_CONFIDENCE_THRESHOLD=0.85

# -----------------------------------------------------------------------------
# Authentication (Phase 0.8)
# -----------------------------------------------------------------------------
AUTH__ENABLED=true  # Set to false to disable auth during development
AUTH__JWT_SECRET_KEY=change-this-to-a-secure-random-string-min-32-chars
AUTH__JWT_EXPIRE_MINUTES=10080  # 7 days (60 * 24 * 7)

# PIN hash - generate with:
# python -c "from src.jeeves.api.auth.password import get_pin_hash; print(get_pin_hash('1234'))"
AUTH__PIN_HASH=
