# Session 24 Janvier 2026 ‚Äî Roadmap de Coordination

**Objectif principal** : √âliminer les freezes/hangs sur les analyses d'emails
**Focus** : Backend Performance (Option A)

---

## Plans Actifs

| Plan | Fichier | Statut Session |
|------|---------|----------------|
| **Performance** | `performance-optimization.md` | üî• ACTIF |
| **UI Refactoring** | `2026-01-24-ui-refactoring.md` | ‚è∏Ô∏è En attente |
| **Architecture Strategy** | `architecture-strategy-2026-01.md` | üìã R√©f√©rence uniquement |

---

## D√©cisions de Session

- [x] **Focus Performance backend** ‚Äî cause directe des freezes
- [x] **UI Refactoring report√©** ‚Äî pas de conflit, sera repris apr√®s
- [x] **Architecture Strategy** ‚Äî document de d√©cision, pas d'action imm√©diate
- [x] **Plans s√©par√©s** ‚Äî pas de fusion, coordination via ce document

---

## Ordre d'Ex√©cution ‚Äî Aujourd'hui

### Track A : Backend Performance (PRIORIT√â)

```
Phase 0 ‚Äî Setup
  ‚úÖ #12 Installer py-spy

Phase 1 ‚Äî Mesure
  ‚¨ú #10 √âtablir baseline
  ‚¨ú #11 Profiling CPU (flamegraph)

Phase 2 ‚Äî Quick Wins
  ‚¨ú #2  Thread pool 32‚Üí8 (5 min)
  ‚¨ú #4  Cache context search (plus gros impact)
  ‚¨ú #3  Early-stop adapters
```

### Crit√®res de succ√®s aujourd'hui

| M√©trique | Cible |
|----------|-------|
| Baseline document√©e | ‚úÖ |
| Flamegraph g√©n√©r√© | ‚úÖ |
| Au moins 1 quick win impl√©ment√© | ‚úÖ |
| Tests passent | ‚úÖ |

---

## S√©quencement Global (Multi-Sessions)

```mermaid
flowchart TD
    subgraph S1["SESSION ACTUELLE"]
        P1["Performance Backend<br/>#12 ‚Üí #10 ‚Üí #11 ‚Üí #2 ‚Üí #4 ‚Üí #3 ‚Üí #5"]
    end

    subgraph S2["SESSION SUIVANTE"]
        P2["UI Refactoring Phases 1-6<br/>Utilitaires ‚Üí Composants ‚Üí QueueItem ‚Üí FolderSel."]
    end

    subgraph S3["SESSION FINALE"]
        P3["Performance Frontend<br/>#1 API split ‚Üí #6 Stores ‚Üí #7 WebSocket ‚Üí #9 Lazy"]
    end

    subgraph S4["FUTUR"]
        P4["Architecture<br/>Tailscale ‚Üí Capacitor iOS ‚Üí VPS (si besoin)"]
    end

    S1 --> S2 --> S3 --> S4
```

---

## D√©pendances Inter-Plans

### Performance ‚Üí UI Refactoring

```mermaid
flowchart LR
    UI["UI Refactoring"] -->|bloque| P1["#1 API client split"]
    UI -->|bloque| P6["#6 Stores audit"]
    UI -->|bloque| P7["#7 WebSocket unify"]
    UI -->|bloque| P9["#9 Lazy-load charts"]
```

Ces 4 t√¢ches Performance touchent le frontend et pourraient conflictuer avec le refactoring UI. Elles sont **report√©es** jusqu'√† la fin du UI Refactoring.

### UI Refactoring ‚Üí Performance Frontend

```mermaid
flowchart LR
    UI["UI Refactoring termin√©"] --> PF["Performance Frontend peut commencer"]
```

### Architecture Strategy

Document de d√©cision uniquement. Pas de d√©pendance bloquante. √Ä consulter pour les d√©cisions d'infrastructure futures.

---

## T√¢ches Parall√©lisables (si temps)

Ces t√¢ches sont **ind√©pendantes** et peuvent √™tre faites √† tout moment :

| T√¢che | Plan | Effort |
|-------|------|--------|
| #8 Compression Gzip API | Performance | Bas |
| Phase 1 UI (iconMappings.ts, formatters.ts) | UI Refactoring | Moyen |

---

## Livrables Attendus ‚Äî Aujourd'hui

| Livrable | Fichier | Statut |
|----------|---------|--------|
| Baseline performance | `docs/plans/performance-baseline.md` | ‚¨ú |
| Flamegraph CPU | `profile.svg` ou `data/profiling/` | ‚¨ú |
| py-spy install√© | `requirements-dev.txt` | ‚¨ú |
| Au moins 1 optimisation | Code modifi√© + test√© | ‚¨ú |

---

## Notes de Session

_√Ä remplir au fur et √† mesure_

### Observations
-

### Blocages rencontr√©s
-

### D√©cisions prises
- Focus Performance backend (Option A)
- Plans s√©par√©s, coordination via ce document

---

## Historique

| Date | Action |
|------|--------|
| 2026-01-24 | Cr√©ation du document de coordination |
| 2026-01-24 | D√©cision : Focus Performance, UI report√© |
