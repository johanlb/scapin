# Session 24 Janvier 2026 â€” Roadmap de Coordination

**Objectif principal** : Ã‰liminer les freezes/hangs sur les analyses d'emails
**Focus** : Backend Performance (Option A)

---

## Plans Actifs

| Plan | Fichier | Statut Session |
|------|---------|----------------|
| **Performance** | `performance-optimization.md` | ğŸ”¥ ACTIF |
| **UI Refactoring** | `2026-01-24-ui-refactoring.md` | â¸ï¸ En attente |
| **Architecture Strategy** | `architecture-strategy-2026-01.md` | ğŸ“‹ RÃ©fÃ©rence uniquement |

---

## DÃ©cisions de Session

- [x] **Focus Performance backend** â€” cause directe des freezes
- [x] **UI Refactoring reportÃ©** â€” pas de conflit, sera repris aprÃ¨s
- [x] **Architecture Strategy** â€” document de dÃ©cision, pas d'action immÃ©diate
- [x] **Plans sÃ©parÃ©s** â€” pas de fusion, coordination via ce document

---

## Ordre d'ExÃ©cution â€” Aujourd'hui

### Track A : Backend Performance (PRIORITÃ‰)

```
Phase 0 â€” Setup
  âœ… #12 Installer py-spy

Phase 1 â€” Mesure
  â¬œ #10 Ã‰tablir baseline
  â¬œ #11 Profiling CPU (flamegraph)

Phase 2 â€” Quick Wins
  â¬œ #2  Thread pool 32â†’8 (5 min)
  â¬œ #4  Cache context search (plus gros impact)
  â¬œ #3  Early-stop adapters
```

### CritÃ¨res de succÃ¨s aujourd'hui

| MÃ©trique | Cible |
|----------|-------|
| Baseline documentÃ©e | âœ… |
| Flamegraph gÃ©nÃ©rÃ© | âœ… |
| Au moins 1 quick win implÃ©mentÃ© | âœ… |
| Tests passent | âœ… |

---

## SÃ©quencement Global (Multi-Sessions)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SESSION ACTUELLE                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Performance Backend                                 â”‚   â”‚
â”‚  â”‚  #12 â†’ #10 â†’ #11 â†’ #2 â†’ #4 â†’ #3 â†’ #5               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SESSION SUIVANTE (UI Refactoring)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  UI Refactoring Phases 1-6                          â”‚   â”‚
â”‚  â”‚  Utilitaires â†’ Composants â†’ QueueItem â†’ FolderSel.  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SESSION FINALE (Performance Frontend)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Performance Frontend                                â”‚   â”‚
â”‚  â”‚  #1 API split â†’ #6 Stores â†’ #7 WebSocket â†’ #9 Lazy  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FUTUR (Architecture)                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Tailscale â†’ Capacitor iOS â†’ VPS (si besoin)        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## DÃ©pendances Inter-Plans

### Performance â†’ UI Refactoring
```
Performance #1 (API client split)     â”€â”
Performance #6 (Stores audit)          â”œâ”€â”€ BloquÃ©s par UI Refactoring
Performance #7 (WebSocket unify)       â”‚
Performance #9 (Lazy-load charts)     â”€â”˜
```

Ces 4 tÃ¢ches Performance touchent le frontend et pourraient conflictuer avec le refactoring UI. Elles sont **reportÃ©es** jusqu'Ã  la fin du UI Refactoring.

### UI Refactoring â†’ Performance Frontend
```
UI Refactoring terminÃ©
         â”‚
         â–¼
Performance Frontend peut commencer
```

### Architecture Strategy
```
Document de dÃ©cision uniquement.
Pas de dÃ©pendance bloquante.
Ã€ consulter pour les dÃ©cisions d'infrastructure futures.
```

---

## TÃ¢ches ParallÃ©lisables (si temps)

Ces tÃ¢ches sont **indÃ©pendantes** et peuvent Ãªtre faites Ã  tout moment :

| TÃ¢che | Plan | Effort |
|-------|------|--------|
| #8 Compression Gzip API | Performance | Bas |
| Phase 1 UI (iconMappings.ts, formatters.ts) | UI Refactoring | Moyen |

---

## Livrables Attendus â€” Aujourd'hui

| Livrable | Fichier | Statut |
|----------|---------|--------|
| Baseline performance | `docs/plans/performance-baseline.md` | â¬œ |
| Flamegraph CPU | `profile.svg` ou `data/profiling/` | â¬œ |
| py-spy installÃ© | `requirements-dev.txt` | â¬œ |
| Au moins 1 optimisation | Code modifiÃ© + testÃ© | â¬œ |

---

## Notes de Session

_Ã€ remplir au fur et Ã  mesure_

### Observations
-

### Blocages rencontrÃ©s
-

### DÃ©cisions prises
- Focus Performance backend (Option A)
- Plans sÃ©parÃ©s, coordination via ce document

---

## Historique

| Date | Action |
|------|--------|
| 2026-01-24 | CrÃ©ation du document de coordination |
| 2026-01-24 | DÃ©cision : Focus Performance, UI reportÃ© |
